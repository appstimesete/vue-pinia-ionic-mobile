<template>
  <input-field :value="modelValue" :type="passwordInputType" @input="getValue"
               required :label="placeholder" :icon-end="showPassIcon"
               @clickIconEnd="showPassword = !showPassword"/>
</template>

<script lang="ts">
import {computed, defineComponent, ref} from 'vue';
import {eyeOff, eye, personOutline} from "ionicons/icons";
import InputField from "@/components/InputField.vue";

export default defineComponent({
  components: {
    InputField,
  },
  props: {
    modelValue: {
      type: String,
      default: '',
    },
    placeholder: {
      type: String,
      default: () => "Password",
    },
  },
  emits: ['update:modelValue'],
  setup(props, {emit}) {
    const showPassword = ref(false);
    const showPassIcon = computed(() => {
      return showPassword.value ? eyeOff : eye;
    })
    const passwordInputType = computed(() => {
      return showPassword.value ? 'text' : 'password';
    })

    const getValue = (value: any) => {
      emit('update:modelValue', value)
    }

    return {showPassword, showPassIcon, passwordInputType, personOutline, getValue};
  }
});
</script>

<style scoped>

</style>